# Maintainer: Dave Murphy <davem@devkitpro.org>

pkgname=('libctru')
pkgver=2.2.2
pkgrel=2
pkgdesc="Nintendo 3DS userland library."
arch=('any')
license=('custom')
url="http://github.com/devkitPro/${pkgname}"
options=(!strip libtool staticlibs)
source=(
  ${pkgname}-${pkgver}.tar.gz::${url}/archive/v${pkgver}.tar.gz
  ${pkgname}-${pkgver}.patch
)
depends=('devkitARM')

groups=('3ds-dev')

prepare() {

  cd ${srcdir}/${pkgname}-${pkgver}
  patch -Np1 < ${srcdir}/${pkgname}-${pkgver}.patch

}

build() {

  cd ${srcdir}/${pkgname}-${pkgver}/libctru
  make

}

package() {

  cd ${srcdir}/libctru-${pkgver}/libctru
  make -j DESTDIR=$pkgdir install

}

sha256sums=('2cbbbff19a2ba3a95ab60a7b0874a3ca446becb566105178a022714d3ca0eed1'
            'ee09e9f613b2930caa49ca871a8994baffca8906f4e59e599e9419e5b3285dfd')
